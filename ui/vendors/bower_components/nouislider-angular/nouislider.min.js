angular.module("ya.nouislider",[]).value("noUiSliderConfig",{}).directive("noUiSlider",["noUiSliderConfig",function(a){function b(a){return angular.isUndefined(a)?0:angular.isArray(a)&&2==a.length?2:1}return a=a||{},{restrict:"A",require:"ngModel",scope:{noUiSlider:"="},link:function(c,d,e,f){function g(){var b=f.$viewValue,e=angular.extend({},a,c.noUiSlider,{start:b});angular.isDefined(e.start)&&angular.isDefined(e.range)&&(d.noUiSlider(e,h),i=angular.copy(b),h||d.on("slide change",function(a,b){f.$setViewValue(b),c.$apply()}),h=!0)}var h=!1,i=void 0;f.$render=function(){if(h){var a=f.$viewValue,e=void 0;if(2==b(a)){a[0]=Math.max(a[0],c.noUiSlider.range.min),a[1]=Math.min(a[1],c.noUiSlider.range.max);var g=a[0]==i[0],j=a[1]==i[1];i=angular.copy(a),a[0]>a[1]&&(g&&(a[1]=a[0]),j&&(a[0]=a[1]),a[0]>a[1]&&(a[1]=a[0])),e=[g?null:a[0],j?null:a[1]]}else{var k=angular.isArray(a);k&&(a=a[0]),a=parseFloat(a)||0,a=Math.min(Math.max(a,c.noUiSlider.range.min),c.noUiSlider.range.max),e=k?[a]:a,f.$setViewValue(e)}d.val(e)}},c.$watch(function(){return c.noUiSlider},function(){g()},!0),c.$watch(function(){return f.$viewValue},function(){f.$render()},!0),c.$watch(function(){return b(f.$viewValue)},function(a){angular.isDefined(a)&&g()},!0)}}}]);